javascript:void (()=>{var a=document.createElement("input");a.type="file";a.onchange=function(){if(a.files.length>0){var b=new FormData();b.append("dopost","save");b.append("Displayrank","10000");b.append("face",a.files[0]);var c=new XMLHttpRequest();c.withCredentials=!!1;c.open("POST","https://api.bilibili.com/x/member/web/face/update?csrf="+document.cookie.match(/bili_jct=(.+?);/)[1]);c.onload=function(){var d=c.response;try{d=JSON.parse(d);switch(d.code){case 0:alert("更新成功，刷新页面即可");break;case 40012:alert("头像格式错误");break;case 40013:alert("头像大小不能超过2M");break;default:alert("未知返回"+c.response);console.error(c.response, c);break}}catch(e){console.error(e, c, d);alert("解析返回数据时出现错误，具体看console")}};c.onerror=function(e){console.error(e,c);alert("请求出现错误，具体看console");};c.send(b)}else{alert("请选择一个文件")}};a.click();})()
